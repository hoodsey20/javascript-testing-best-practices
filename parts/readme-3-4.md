## ‚ö™ Ô∏è 3.4 –ò—Å–ø–æ–ª—å–∑—É–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è, –æ—Ç–∫–∞–∂–∏—Å—å –æ—Ç setTimeOut.

‚úÖ **–î–µ–ª–∞–µ–º:** –í–æ –º–Ω–æ–≥–∏—Ö —Å–ª—É—á–∞—è—Ö —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∞ –Ω–µ –∏–∑–≤–µ—Å—Ç–Ω–æ(–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞) - –≤ —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –≤–º–µ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è setTimeOut –æ—Ç–¥–∞–≤–∞–π –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º –º–µ—Ç–æ–¥–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–∂–¥–∞—Ç—å—Å—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä [Cypress cy.request('url')](https://docs.cypress.io/guides/references/best-practices.html#Unnecessary-Waiting)), –¥—Ä—É–≥–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –∫–∞–∫ [@testing-library/dom method wait(expect(element))](https://testing-library.com/docs/guide-disappearance).

–ü–æ–¥—á–∞—Å, –±–æ–ª–µ–µ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É (stub) –≤–º–µ—Å—Ç–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –º–µ–¥–ª–µ–Ω–Ω–æ–º API, –∏ –∑–∞—Ç–µ–º, –∫–æ–≥–¥–∞ –º–æ–º–µ–Ω—Ç –æ—Ç–∫–ª–∏–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç–æ—á–Ω–æ –∏–∑–≤–µ—Å—Ç–µ–Ω, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —è–≤–Ω–æ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞–Ω.

–ö–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥—Ä—É–≥–æ–≥–æ, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è setTimeOut, –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–∑–Ω—ã–º [—É—Å–∫–æ—Ä–∏—Ç—å –≤—Ä–µ–º—è](https://jestjs.io/docs/en/timer-mocks). –°—Ç–æ–∏—Ç –∏–∑–±–µ–≥–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è setTimeOut, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–≤–æ–∏ —Ç–µ—Å—Ç—ã –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∏–ª–∏ —Å–ª–∏—à–∫–æ–º —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã–º–∏ (–∫–æ–≥–¥–∞ –º—ã –º–æ–∂–µ–º –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Å–ª–∏—à–∫–æ–º –∫–æ—Ä—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è —Ç–∞–π–º–µ—Ä–∞ –∏ –Ω–µ –¥–æ–∂–¥–∞—Ç—å—Å—è –Ω—É–∂–Ω–æ–≥–æ –Ω–∞–º —Å–æ–±—ã—Ç–∏—è).

–í—Å—è–∫–∏–π —Ä–∞–∑, –∫–æ–≥–¥–∞ setTimeOut –∏ –æ–ø—Ä–æ—Å (polling) –Ω–µ–∏–∑–±–µ–∂–Ω—ã, –∏ –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ npm, —Ç–∞–∫–∏–µ –∫–∞–∫ [wait-for-expect](https://www.npmjs.com/package/wait-for-expect) –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ—à–µ–Ω–∏—è —Å –±–æ–ª—å—à–µ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ—Å—Ç—å—é.
<br/>

‚ùå **–ò–Ω–∞—á–µ:** –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ —á–µ—Å—Ç–Ω–æ–≥–æ setTimeOut —Ç–µ—Å—Ç—ã –±—É–¥—É—Ç –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –º–µ–¥–ª–µ–Ω–Ω–µ–µ. –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—ã—Å—Ç–∞–≤–∏—Ç—å setTimeOut –Ω–∞ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ –≤—Ä–µ–º—è —Ç–µ—Å—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–≤–∞–ª–µ–Ω, –µ—Å–ª–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –æ—Ç–≤–µ—Ç–∏–ª–æ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ. –¢–∞–∫ —á—Ç–æ –ø–æ–¥—Ö–æ–¥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º setTimeOut —Å–≤–æ–¥–∏—Ç—Å—è –∫ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å—É –º–µ–∂–¥—É –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å—é –∏ –ø–ª–æ—Ö–æ–π —Ä–∞–±–æ—Ç–æ–π.

<br/>

<details><summary>‚úè <b>–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞</b></summary>

<br/>

### üëè –ü—Ä–∞–≤–∏–ª—å–Ω–æ: E2E API –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (Cypress)

![](https://img.shields.io/badge/üîß%20Example%20using%20React-blue.svg "Examples with React") ![](https://img.shields.io/badge/üîß%20Example%20using%20React%20Testing%20Library-blue.svg "Examples with react-testing-library")

```javascript
// –∏—Å–ø–æ–ª—å–∑—É–µ–º Cypress
cy.get("#show-products").click(); // –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ø—Ä–æ–¥—É–∫—Ç–∞–º
cy.wait("@products"); // –∂–¥—ë–º –ø–æ–∫–∞ –Ω—É–∂–Ω—ã —Ä–æ—É—Ç –ø–æ–¥–≥—Ä—É–∑–∏—Ç—Å—è
// –∫–æ–¥ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–æ—á–∫–µ –Ω–∞—á–Ω—ë—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è —Ä–æ—É—Ç
```

### üëè –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ—Ç–æ—Ä–∞—è –∂–¥—ë—Ç –ø–æ—è–≤–ª–µ–Ω—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```javascript
// @testing-library/dom
test("movie title appears", async () => {
  // –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –µ—â—ë –Ω–µ—Ç

  // –∂–¥—ë–º –ø–æ–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è
  await wait(() => {
    expect(getByText("the lion king")).toBeInTheDocument();
  });

  // –¥–æ–∂–∏–¥–∞–µ–º—Å—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  const movie = await waitForElement(() => getByText("the lion king"));
});
```

### üëé –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–¥ —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º —Å–æ–±—ã—Ç–∏—è

```javascript
test("movie title appears", async () => {
  // –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –Ω—É–∂–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –µ—â—ë –Ω–µ—Ç

  // –∫–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
  const interval = setInterval(() => {
    const found = getByText("the lion king");
    if (found) {
      clearInterval(interval);
      expect(getByText("the lion king")).toBeInTheDocument();
    }
  }, 100);

  // –¥–æ–∂–∏–¥–∞–µ–º—Å—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  const movie = await waitForElement(() => getByText("the lion king"));
});
```

</details>

<br/>
