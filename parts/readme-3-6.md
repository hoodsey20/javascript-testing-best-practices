## ‚ö™ Ô∏è 3.6 –î–µ–ª–∞–µ–º –∑–∞–≥–ª—É—à–∫–∏ –¥–ª—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –∏ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ —Ç–∞–∫–∏—Ö –∫–∞–∫ –±—ç–∫–µ–Ω–¥ API

‚úÖ **–î–µ–ª–∞–µ–º:** –í–æ –≤—Ä–µ–º—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (–Ω–µ E2E), –∏–∑–±–µ–≥–∞–π –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –ª—é–±—ã–º —Ä–µ—Å—É—Ä—Å–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω–µ –æ–±–ª–∞—Å—Ç–∏ —Ç–≤–æ–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, —Ç–∞–∫–∏—Ö –∫–∞–∫ –±—ç–∫–µ–Ω–¥ API, –∏ –∏—Å–ø–æ–ª—å–∑—É–π –∑–∞–≥–ª—É—à–∫–∏ (stubs) –≤–º–µ—Å—Ç–æ –Ω–∏—Ö. –í–º–µ—Å—Ç–æ —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–∞–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ API –∏—Å–ø–æ–ª—å–∑—É–π –∫–∞–∫–∏–µ-–Ω–∏–±—É–¥—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –ø–æ–¥–º–µ–Ω—ã –æ—Ç–≤–µ—Ç–æ–≤ API (–Ω–∞–ø—Ä–∏–º–µ—Ä [Sinon](https://sinonjs.org/), [Test doubles](https://www.npmjs.com/package/testdouble), –∏ –¥—Ä—É–≥–∏–µ). –ì–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ ‚Äî –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç–∏: —Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ —Å—Ç–µ–π–¥–∂–∏–Ω–≥–æ–≤—ã–µ API –ø–æ —Å–≤–æ–µ–º—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—é —è–≤–ª—è—é—Ç—Å—è –Ω–µ –æ—á–µ–Ω—å —Å—Ç–∞–±–∏–ª—å–Ω—ã–º–∏ –∏ –±—É–¥—É—Ç –≤—Ä–µ–º—è –æ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∫–ª–∞—Å—Ç—å —Ç–≤–æ–∏ —Ç–µ—Å—Ç—ã –Ω–µ —Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –¢–í–û–ò –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–µ–¥—É—Ç —Å–µ–±—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (–ø—Ä–æ–¥–∞–∫—à–Ω-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –±—ç–∫–µ–Ω–¥–∞ –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±—ã—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤).

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∑–∞–≥–ª—É—à–µ–∫ –¥–ª—è API –ø–æ–∑–≤–æ–ª–∏—Ç –∏–º–∏—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º –≤–∞—à–µ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–µ –±—ã–ª–∏ –Ω–∞–π–¥–µ–Ω—ã –∏–ª–∏ –∫–æ–≥–¥–∞ API –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É. –ò –ø–æ—Å–ª–µ–¥–Ω–µ–µ, –Ω–æ –Ω–µ –º–µ–Ω–µ–µ –≤–∞–∂–Ω–æ–µ: —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–¥–ª—è—é—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.

<br/>

‚ùå **–ò–Ω–∞—á–µ:** –°—Ä–µ–¥–Ω–∏–π —Ç–µ—Å—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ –±–æ–ª–µ–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º—Å, —Ç–∏–ø–∏—á–Ω—ã–π –≤—ã–∑–æ–≤ API - –∫–∞–∫ –º–∏–Ω–∏–º—É–º 100 –º—Å>, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 20 —Ä–∞–∑ –º–µ–¥–ª–µ–Ω–Ω–µ–µ

<br/>

<details><summary>‚úè <b>–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞</b></summary>

<br/>

### üëè –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ó–∞–≥–ª—É—à–∫–∞ –∏–ª–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ API

![](https://img.shields.io/badge/üîß%20Example%20using%20React-blue.svg "Examples with React") ![](https://img.shields.io/badge/üîß%20Example%20using%20Jest-blue.svg "Examples with react-testing-library")

```javascript
// —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
export default function ProductsList() {
  const [products, setProducts] = useState(false);

  const fetchProducts = async () => {
    const products = await axios.get("api/products");
    setProducts(products);
  };

  useEffect(() => {
    fetchProducts();
  }, []);

  return products ? (
    <div>{products}</div>
  ) : (
    <div data-testid="no-products-message">–ù–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</div>
  );
}

// —Ç–µ—Å—Ç
test("When no products exist, show the appropriate message", () => {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ
  nock("api").get(`/products`).reply(404);

  // –î–µ–π—Å—Ç–≤–∏–µ
  const { getByTestId } = render(<ProductsList />);

  // –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
  expect(getByTestId("no-products-message")).toBeTruthy();
});
```

</details>

<br/>
