## ⚪ ️ 3.7 Имейте парочку сквозных тестов, затрагивающих поведение всего приложения

✅ **Делаем:** Хотя E2E тестирование (сквозное) обычно означает тестирование только с пользовательским интерфейсом с реальным браузером (Смотри 3.6), это также означает эти тесты затрагивают всю систему, включая реальный бэкэнд.

Последний тип тестов очень полезен, поскольку он охватывает ошибки интеграции между внешним и внутренним интерфейсом, которые могут возникнуть из-за неправильного понимания схемы обмена.

Они также являются эффективным методом для выявления проблем интеграции между бэкэндами (например, Микросервис A отправляет неправильное сообщение в Микросервис Б) и даже для обнаружения сбоев при деплое - не существует бэкенд-фреймворков для тестирования E2E, которые были бы такими же дружественными и продуманными как фреймворки для тестирования UI типа [Cypress](https://www.cypress.io/) и [Pupeteer](https://github.com/GoogleChrome/puppeteer).

Недостатком таких тестов является высокая стоимость конфигурирования среды с большим количеством компонентов и их хрупкостью - с учетом 50 микросервисов, даже если один из них выходит из строя, весь E2E тест падает. По этой причине, мы должны использовать эту технику экономно и, иметь 1-10 таких тестов и не более. Тем не менее, даже небольшое количество тестов E2E могут выявить тип проблем, для которых они предназначены - ошибки деплоя и интеграции. Рекомендуется запускать их на стейджинге с production-like конфигурацией.

<br/>

❌ **Иначе:** UI может вложить значительные средства в тестирование своей функциональности только для того, чтобы очень поздно понять, что возвращаемая бэкендом полезная нагрузка (схема данных, с которой должен работать пользовательский интерфейс) сильно отличается от ожидаемой.

<br/>
